{% extends "search.html" %}
{% block results %}
<div class="card mt-4 rounded-0">
    <h4 class="card-header text-center pt-3";>
        Results
    </h4>
    <div class="card-body rounded-0">
        {% for alignment in alignments %}
        <div class="card mb-4 rounded-0 shadow-1" style="position: relative">
            <div class="border border-top-0 border-left-0" style="position: absolute; padding: 5px; overflow: hidden;">
                {{ start_position + loop.index }}
            </div>
            <div class="row">
                <div class="col mt-4">
                    <h5 class="text-center pb-2">
                        Source
                    </h5>
                    <h6 class="card-subtitle p-3">
                            {{ alignment["source_author"] }}, <i>{{ alignment["source_title"] }}</i> [{{ alignment["source_year"] }}]
                    </h6>
                </div>
                <div class="col mt-4 border border-top-0 border-right-0 border-bottom-0">
                    <h5 class="text-center pb-2">
                        Target
                    </h5>
                    <h6 class="card-subtitle p-3">
                            {{ alignment["target_author"] }}, <i>{{ alignment["target_title"] }}</i> [{{ alignment["target_year"] }}]
                    </h6>
                </div>
            </div>
            <div class="row">
                <div class="col mb-2">
                    <p class="card-text text-justify px-3 pt-2 pb-4 mb-4">
                        {{ alignment["source_context_before"] }}
                        <span style="color: red;">{{ alignment["source_passage"] }}</span>
                        {{ alignment["source_context_after"] }}
                    </p>
                    <a class="card-link px-3 pt-2" style="position: absolute; bottom: 0" href="{{ alignment['source_link_to_philologic'] }}">View passage in context</a>
                </div>
                <div class="col mb-2 border border-top-0 border-right-0 border-bottom-0">
                    <p class="card-text text-justify px-3 pt-2 pb-4 mb-4">
                        {{ alignment["target_context_before"] }}
                        <span style="color: red;">{{ alignment["target_passage"] }}</span>
                        {{ alignment["target_context_after"] }}
                    </p>
                    <a class="card-link px-3 pt-2" style="position: absolute; bottom: 0" href="{{ alignment['target_link_to_philologic'] }}">View passage in context</a>
                </div>
            </div>
            <div class="text-muted text-center mb-1 py-1" style="font-size: 80%">
                {{ alignment["passage_similarity"] }} similar
            </div>
        </div>
        {% endfor %}
    </div>
    <nav aria-label="Page navigation">
        <ul class="pagination justify-content-center mb-4">
            {% if page > 1 %}
            <li class="page-item">
                <a class="page-link" href="#" aria-label="Previous">
                    <span aria-hidden="true">&laquo;</span>
                    <span class="sr-only">Previous</span>
                </a>
            </li>
            {% endif %}
            <li class="page-item"><a class="page-link" href="#">Page {{ page }}</a></li>
            {% if next_url != "" %}
            <li class="page-item">
                <a class="page-link" href="#" aria-label="Next">
                    <span aria-hidden="true">&raquo;</span>
                    <span class="sr-only">Next</span>
                </a>
            </li>
            {% endif %}
        </ul>
    </nav>
</div>
{% endblock %}